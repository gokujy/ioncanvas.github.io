(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{b8dg:function(n,l,t){"use strict";t.r(l);var u=t("CcnG"),i=t("mrSG"),e=t("ZZ/e"),o=function(){function n(n,l,t){var u=this;this.router=n,this.activatedroute=l,this.alertController=t,this.selectedColor="#9e2956",this.colors=["#9e2956","#c2281d","#de722f","#edbf4c","#5db37e","#459cde","#4250ad","#802fa3"],this.selectedSize=2,this.imageObj=new Image,this.brushUsed=!1,this.myColor="#000",this.activatedroute.queryParams.subscribe((function(n){u.router.getCurrentNavigation().extras.state&&(u.myDraw=u.router.getCurrentNavigation().extras.state.draw,u.imageName="../."+u.myDraw.image)}))}return n.prototype.ngOnInit=function(){return i.b(this,void 0,void 0,(function(){var n=this;return i.e(this,(function(l){return this.imageObj.src=this.imageName,setTimeout((function(l){return n.draw()}),500),[2]}))}))},n.prototype.selectColor=function(n){this.selectedColor=n,this.ctx.stroke()},n.prototype.ionViewDidEnter=function(){this.ctx=this.canvas.nativeElement.getContext("2d"),this.position=this.canvas.nativeElement.getBoundingClientRect()},n.prototype.startDrawing=function(n){this.brushUsed=!0,this.saveX=n.touches[0].pageX-this.position.x,this.saveY=n.touches[0].pageY-this.position.y},n.prototype.moved=function(n){var l=n.touches[0].pageX-this.position.x,t=n.touches[0].pageY-this.position.y;this.ctx.lineJoin="round",this.ctx.strokeStyle=this.selectedColor,this.ctx.lineWidth=this.selectedSize,this.ctx.beginPath(),this.ctx.moveTo(this.saveX,this.saveY),this.ctx.lineTo(l,t),this.ctx.closePath(),this.ctx.stroke(),this.saveX=l,this.saveY=t,this.isTransparent(l,t)},n.prototype.clear=function(){this.ctx=this.canvas.nativeElement.getContext("2d"),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.drawImage(this.imageObj,0,0,this.ctx.canvas.width,this.ctx.canvas.height)},n.prototype.draw=function(){this.ctx=this.canvas.nativeElement.getContext("2d"),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.drawImage(this.imageObj,0,0,this.ctx.canvas.width,this.ctx.canvas.height)},n.prototype.brushSize=function(n){this.selectedSize=n.detail.value},n.prototype.isTransparent=function(n,l){return console.log("isTransparent: ",0===this.ctx.getImageData(n,l,1,1).data[3]),0===this.ctx.getImageData(n,l,1,1).data[3]},n}(),r=function(){return function(){}}(),s=t("pMnS"),a=t("oBZk"),c=t("gIcY"),b=t("Ip0R"),h=t("ZYCi"),d=u.qb({encapsulation:0,styles:[["ion-header[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:23px}.myimg[_ngcontent-%COMP%]{text-align:center;margin:0 auto}canvas[_ngcontent-%COMP%]{display:block;border:1px solid #bbb2b2;width:auto;background:0 0}.color-block[_ngcontent-%COMP%]{height:40px}.cancolor[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{border-radius:50%;margin-right:5px}.accuracy[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:23px}"]],data:{}});function g(n){return u.Ib(0,[(n()(),u.sb(0,0,null,null,1,"ion-col",[["class","color-block"],["tappable",""]],[[4,"background",null]],[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.selectColor(n.context.$implicit)&&u),u}),a.z,a.f)),u.rb(1,49152,null,0,e.s,[u.h,u.k,u.z],null,null)],null,(function(n,l){n(l,0,0,l.context.$implicit)}))}function p(n){return u.Ib(0,[u.Fb(671088640,1,{canvas:0}),u.Fb(671088640,2,{content:0}),u.Fb(671088640,3,{fixedContainer:0}),(n()(),u.sb(3,0,null,null,16,"ion-header",[],null,null,null,a.D,a.j)),u.rb(4,49152,null,0,e.A,[u.h,u.k,u.z],null,null),(n()(),u.sb(5,0,null,0,14,"ion-toolbar",[],null,null,null,a.N,a.t)),u.rb(6,49152,null,0,e.Bb,[u.h,u.k,u.z],null,null),(n()(),u.sb(7,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,a.x,a.d)),u.rb(8,49152,null,0,e.k,[u.h,u.k,u.z],null,null),(n()(),u.sb(9,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],(function(n,l,t){var i=!0;return"click"===l&&(i=!1!==u.Db(n,11).onClick(t)&&i),i}),a.v,a.b)),u.rb(10,49152,null,0,e.f,[u.h,u.k,u.z],null,null),u.rb(11,16384,null,0,e.g,[[2,e.hb],e.Gb],null,null),(n()(),u.sb(12,0,null,0,2,"ion-title",[],null,null,null,a.M,a.s)),u.rb(13,49152,null,0,e.zb,[u.h,u.k,u.z],null,null),(n()(),u.Hb(-1,0,["Draw"])),(n()(),u.sb(15,0,null,0,4,"ion-buttons",[["slot","end"]],null,null,null,a.x,a.d)),u.rb(16,49152,null,0,e.k,[u.h,u.k,u.z],null,null),(n()(),u.sb(17,0,null,0,2,"ion-button",[["color","primary"]],null,[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.clear()&&u),u}),a.w,a.c)),u.rb(18,49152,null,0,e.j,[u.h,u.k,u.z],{color:[0,"color"]},null),(n()(),u.Hb(-1,0,[" C "])),(n()(),u.sb(20,0,null,null,8,"ion-content",[],null,null,null,a.A,a.g)),u.rb(21,49152,[[2,4]],0,e.t,[u.h,u.k,u.z],null,null),(n()(),u.sb(22,0,null,0,6,"ion-grid",[],null,null,null,a.C,a.i)),u.rb(23,49152,null,0,e.z,[u.h,u.k,u.z],null,null),(n()(),u.sb(24,0,[[3,0],["fixedContainer",1]],0,4,"div",[["ion-fixed",""]],null,null,null,null,null)),(n()(),u.sb(25,0,null,null,3,"ion-row",[],null,null,null,a.I,a.o)),u.rb(26,49152,null,0,e.ib,[u.h,u.k,u.z],null,null),(n()(),u.sb(27,0,null,0,1,"div",[["class","box"]],null,null,null,null,null)),(n()(),u.sb(28,0,[[1,0],["imageCanvas",1]],null,0,"canvas",[["height","400"],["width","350"]],null,[[null,"touchstart"],[null,"touchmove"]],(function(n,l,t){var u=!0,i=n.component;return"touchstart"===l&&(u=!1!==i.startDrawing(t)&&u),"touchmove"===l&&(u=!1!==i.moved(t)&&u),u}),null,null)),(n()(),u.sb(29,0,null,null,15,"ion-footer",[],null,null,null,a.B,a.h)),u.rb(30,49152,null,0,e.y,[u.h,u.k,u.z],null,null),(n()(),u.sb(31,0,null,0,9,"ion-row",[],null,null,null,a.I,a.o)),u.rb(32,49152,null,0,e.ib,[u.h,u.k,u.z],null,null),(n()(),u.sb(33,0,null,0,7,"ion-range",[["max","30"],["min","0"],["pin","true"]],null,[[null,"ionChange"],[null,"ionBlur"]],(function(n,l,t){var i=!0,e=n.component;return"ionBlur"===l&&(i=!1!==u.Db(n,36)._handleBlurEvent(t.target)&&i),"ionChange"===l&&(i=!1!==u.Db(n,36)._handleChangeEvent(t.target)&&i),"ionChange"===l&&(i=!1!==e.brushSize(t)&&i),i}),a.H,a.n)),u.Eb(5120,null,c.b,(function(n){return[n]}),[e.Jb]),u.rb(35,49152,null,0,e.bb,[u.h,u.k,u.z],{max:[0,"max"],min:[1,"min"],pin:[2,"pin"]},null),u.rb(36,16384,null,0,e.Jb,[u.k],null,null),(n()(),u.sb(37,0,null,0,1,"ion-icon",[["name","brush"],["size","small"],["slot","start"]],null,null,null,a.E,a.k)),u.rb(38,49152,null,0,e.B,[u.h,u.k,u.z],{name:[0,"name"],size:[1,"size"]},null),(n()(),u.sb(39,0,null,0,1,"ion-icon",[["name","brush"],["slot","end"]],null,null,null,a.E,a.k)),u.rb(40,49152,null,0,e.B,[u.h,u.k,u.z],{name:[0,"name"]},null),(n()(),u.sb(41,0,null,0,3,"ion-row",[["class","cancolor"],["scrollable",""]],null,null,null,a.I,a.o)),u.rb(42,49152,null,0,e.ib,[u.h,u.k,u.z],null,null),(n()(),u.hb(16777216,null,0,1,null,g)),u.rb(44,278528,null,0,b.h,[u.N,u.K,u.s],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var t=l.component;n(l,18,0,"primary"),n(l,35,0,"30","0","true"),n(l,38,0,"brush","small"),n(l,40,0,"brush"),n(l,44,0,t.colors)}),null)}function m(n){return u.Ib(0,[(n()(),u.sb(0,0,null,null,1,"app-draw",[],null,null,null,p,d)),u.rb(1,114688,null,0,o,[h.m,h.a,e.a],null,null)],(function(n,l){n(l,1,0)}),null)}var v=u.ob("app-draw",o,m,{},{},[]);t.d(l,"DrawPageModuleNgFactory",(function(){return x}));var x=u.pb(r,[],(function(n){return u.Ab([u.Bb(512,u.j,u.ab,[[8,[s.a,v]],[3,u.j],u.x]),u.Bb(4608,b.j,b.i,[u.u,[2,b.p]]),u.Bb(4608,c.d,c.d,[]),u.Bb(4608,e.b,e.b,[u.z,u.g]),u.Bb(4608,e.Fb,e.Fb,[e.b,u.j,u.q]),u.Bb(4608,e.Ib,e.Ib,[e.b,u.j,u.q]),u.Bb(1073742336,b.b,b.b,[]),u.Bb(1073742336,c.c,c.c,[]),u.Bb(1073742336,c.a,c.a,[]),u.Bb(1073742336,e.Db,e.Db,[]),u.Bb(1073742336,h.n,h.n,[[2,h.s],[2,h.m]]),u.Bb(1073742336,r,r,[]),u.Bb(1024,h.k,(function(){return[[{path:"",component:o}]]}),[])])}))}}]);