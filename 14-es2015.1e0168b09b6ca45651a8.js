(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{b8dg:function(l,n,t){"use strict";t.r(n);var u=t("8Y7J"),i=t("mrSG"),e=t("ZZ/e");class o{constructor(l,n,t){this.router=l,this.activatedroute=n,this.alertController=t,this.selectedColor="#9e2956",this.colors=["#9e2956","#c2281d","#de722f","#edbf4c","#5db37e","#459cde","#4250ad","#802fa3"],this.selectedSize=2,this.imageObj=new Image,this.brushUsed=!1,this.myColor="#000",this.activatedroute.queryParams.subscribe(l=>{this.router.getCurrentNavigation().extras.state&&(this.myDraw=this.router.getCurrentNavigation().extras.state.draw,this.imageName="../."+this.myDraw.image)})}ngOnInit(){return i.b(this,void 0,void 0,(function*(){this.imageObj.src=this.imageName,setTimeout(l=>this.draw(),500)}))}selectColor(l){this.selectedColor=l,this.ctx.stroke()}ionViewDidEnter(){this.ctx=this.canvas.nativeElement.getContext("2d"),this.position=this.canvas.nativeElement.getBoundingClientRect()}startDrawing(l){this.brushUsed=!0,this.saveX=l.touches[0].pageX-this.position.x,this.saveY=l.touches[0].pageY-this.position.y}moved(l){const n=l.touches[0].pageX-this.position.x,t=l.touches[0].pageY-this.position.y;this.ctx.lineJoin="round",this.ctx.strokeStyle=this.selectedColor,this.ctx.lineWidth=this.selectedSize,this.ctx.beginPath(),this.ctx.moveTo(this.saveX,this.saveY),this.ctx.lineTo(n,t),this.ctx.closePath(),this.ctx.stroke(),this.saveX=n,this.saveY=t,this.isTransparent(n,t)}clear(){this.ctx=this.canvas.nativeElement.getContext("2d"),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.drawImage(this.imageObj,0,0,this.ctx.canvas.width,this.ctx.canvas.height)}draw(){this.ctx=this.canvas.nativeElement.getContext("2d"),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.drawImage(this.imageObj,0,0,this.ctx.canvas.width,this.ctx.canvas.height)}brushSize(l){this.selectedSize=l.detail.value}isTransparent(l,n){return console.log("isTransparent: ",0===this.ctx.getImageData(l,n,1,1).data[3]),0===this.ctx.getImageData(l,n,1,1).data[3]}}class a{}var s=t("pMnS"),c=t("oBZk"),r=t("s7LF"),b=t("SVse"),h=t("iInd"),d=u.ob({encapsulation:0,styles:[["ion-header[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:23px}.myimg[_ngcontent-%COMP%]{text-align:center;margin:0 auto}canvas[_ngcontent-%COMP%]{display:block;border:1px solid #bbb2b2;width:auto;background:0 0}.color-block[_ngcontent-%COMP%]{height:40px}.cancolor[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{border-radius:50%;margin-right:5px}.accuracy[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:23px}"]],data:{}});function g(l){return u.Gb(0,[(l()(),u.qb(0,0,null,null,1,"ion-col",[["class","color-block"],["tappable",""]],[[4,"background",null]],[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.selectColor(l.context.$implicit)&&u),u}),c.z,c.f)),u.pb(1,49152,null,0,e.s,[u.h,u.k,u.x],null,null)],null,(function(l,n){l(n,0,0,n.context.$implicit)}))}function p(l){return u.Gb(0,[u.Db(671088640,1,{canvas:0}),u.Db(671088640,2,{content:0}),u.Db(671088640,3,{fixedContainer:0}),(l()(),u.qb(3,0,null,null,16,"ion-header",[],null,null,null,c.D,c.j)),u.pb(4,49152,null,0,e.A,[u.h,u.k,u.x],null,null),(l()(),u.qb(5,0,null,0,14,"ion-toolbar",[],null,null,null,c.N,c.t)),u.pb(6,49152,null,0,e.Bb,[u.h,u.k,u.x],null,null),(l()(),u.qb(7,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,c.x,c.d)),u.pb(8,49152,null,0,e.k,[u.h,u.k,u.x],null,null),(l()(),u.qb(9,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==u.Bb(l,11).onClick(t)&&i),i}),c.v,c.b)),u.pb(10,49152,null,0,e.f,[u.h,u.k,u.x],null,null),u.pb(11,16384,null,0,e.g,[[2,e.hb],e.Gb],null,null),(l()(),u.qb(12,0,null,0,2,"ion-title",[],null,null,null,c.M,c.s)),u.pb(13,49152,null,0,e.zb,[u.h,u.k,u.x],null,null),(l()(),u.Fb(-1,0,["Draw"])),(l()(),u.qb(15,0,null,0,4,"ion-buttons",[["slot","end"]],null,null,null,c.x,c.d)),u.pb(16,49152,null,0,e.k,[u.h,u.k,u.x],null,null),(l()(),u.qb(17,0,null,0,2,"ion-button",[["color","primary"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.clear()&&u),u}),c.w,c.c)),u.pb(18,49152,null,0,e.j,[u.h,u.k,u.x],{color:[0,"color"]},null),(l()(),u.Fb(-1,0,[" C "])),(l()(),u.qb(20,0,null,null,8,"ion-content",[],null,null,null,c.A,c.g)),u.pb(21,49152,[[2,4]],0,e.t,[u.h,u.k,u.x],null,null),(l()(),u.qb(22,0,null,0,6,"ion-grid",[],null,null,null,c.C,c.i)),u.pb(23,49152,null,0,e.z,[u.h,u.k,u.x],null,null),(l()(),u.qb(24,0,[[3,0],["fixedContainer",1]],0,4,"div",[["ion-fixed",""]],null,null,null,null,null)),(l()(),u.qb(25,0,null,null,3,"ion-row",[],null,null,null,c.I,c.o)),u.pb(26,49152,null,0,e.ib,[u.h,u.k,u.x],null,null),(l()(),u.qb(27,0,null,0,1,"div",[["class","box"]],null,null,null,null,null)),(l()(),u.qb(28,0,[[1,0],["imageCanvas",1]],null,0,"canvas",[["height","400"],["width","350"]],null,[[null,"touchstart"],[null,"touchmove"]],(function(l,n,t){var u=!0,i=l.component;return"touchstart"===n&&(u=!1!==i.startDrawing(t)&&u),"touchmove"===n&&(u=!1!==i.moved(t)&&u),u}),null,null)),(l()(),u.qb(29,0,null,null,15,"ion-footer",[],null,null,null,c.B,c.h)),u.pb(30,49152,null,0,e.y,[u.h,u.k,u.x],null,null),(l()(),u.qb(31,0,null,0,9,"ion-row",[],null,null,null,c.I,c.o)),u.pb(32,49152,null,0,e.ib,[u.h,u.k,u.x],null,null),(l()(),u.qb(33,0,null,0,7,"ion-range",[["max","30"],["min","0"],["pin","true"]],null,[[null,"ionChange"],[null,"ionBlur"]],(function(l,n,t){var i=!0,e=l.component;return"ionBlur"===n&&(i=!1!==u.Bb(l,36)._handleBlurEvent(t.target)&&i),"ionChange"===n&&(i=!1!==u.Bb(l,36)._handleChangeEvent(t.target)&&i),"ionChange"===n&&(i=!1!==e.brushSize(t)&&i),i}),c.H,c.n)),u.Cb(5120,null,r.b,(function(l){return[l]}),[e.Jb]),u.pb(35,49152,null,0,e.bb,[u.h,u.k,u.x],{max:[0,"max"],min:[1,"min"],pin:[2,"pin"]},null),u.pb(36,16384,null,0,e.Jb,[u.k],null,null),(l()(),u.qb(37,0,null,0,1,"ion-icon",[["name","brush"],["size","small"],["slot","start"]],null,null,null,c.E,c.k)),u.pb(38,49152,null,0,e.B,[u.h,u.k,u.x],{name:[0,"name"],size:[1,"size"]},null),(l()(),u.qb(39,0,null,0,1,"ion-icon",[["name","brush"],["slot","end"]],null,null,null,c.E,c.k)),u.pb(40,49152,null,0,e.B,[u.h,u.k,u.x],{name:[0,"name"]},null),(l()(),u.qb(41,0,null,0,3,"ion-row",[["class","cancolor"],["scrollable",""]],null,null,null,c.I,c.o)),u.pb(42,49152,null,0,e.ib,[u.h,u.k,u.x],null,null),(l()(),u.fb(16777216,null,0,1,null,g)),u.pb(44,278528,null,0,b.h,[u.L,u.I,u.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var t=n.component;l(n,18,0,"primary"),l(n,35,0,"30","0","true"),l(n,38,0,"brush","small"),l(n,40,0,"brush"),l(n,44,0,t.colors)}),null)}function x(l){return u.Gb(0,[(l()(),u.qb(0,0,null,null,1,"app-draw",[],null,null,null,p,d)),u.pb(1,114688,null,0,o,[h.m,h.a,e.a],null,null)],(function(l,n){l(n,1,0)}),null)}var m=u.mb("app-draw",o,x,{},{},[]);t.d(n,"DrawPageModuleNgFactory",(function(){return v}));var v=u.nb(a,[],(function(l){return u.yb([u.zb(512,u.j,u.Y,[[8,[s.a,m]],[3,u.j],u.v]),u.zb(4608,b.j,b.i,[u.s,[2,b.p]]),u.zb(4608,r.d,r.d,[]),u.zb(4608,e.b,e.b,[u.x,u.g]),u.zb(4608,e.Fb,e.Fb,[e.b,u.j,u.p]),u.zb(4608,e.Ib,e.Ib,[e.b,u.j,u.p]),u.zb(1073742336,b.b,b.b,[]),u.zb(1073742336,r.c,r.c,[]),u.zb(1073742336,r.a,r.a,[]),u.zb(1073742336,e.Db,e.Db,[]),u.zb(1073742336,h.n,h.n,[[2,h.s],[2,h.m]]),u.zb(1073742336,a,a,[]),u.zb(1024,h.k,(function(){return[[{path:"",component:o}]]}),[])])}))}}]);